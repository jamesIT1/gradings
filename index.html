<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professor Grade Management System</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="login-overlay" class="overlay">
        <div class="login-box">
            <h2>Faculty Portal</h2>
            <p>Please enter your credentials</p>
            <input type="text" id="username" placeholder="Username (admin)">
            <input type="password" id="password" placeholder="Password (1234)">
            <button onclick="handleLogin()" class="btn-primary">Login</button>
        </div>
    </div>

    <div id="main-app" style="display:none;">
        <nav class="navbar">
            <div class="nav-brand">GradeMaster v1.0</div>
            <div class="nav-links">
                <button onclick="showPage('settings')">Settings</button>
                <button onclick="showPage('students')">Students</button>
                <button onclick="showPage('grading')">Grading Sheet</button>
                <button onclick="showPage('reports')">Reports</button>
                <button onclick="location.reload()" class="logout">Logout</button>
            </div>
        </nav>

        <section id="settings" class="page">
    <div class="header-flex">
        <h2>Grade Parameters</h2>
        <span class="badge" id="total-weight-display">Total Weight: 100%</span>
    </div>
    
    <div class="settings-grid">
        <div class="card">
            <h3>Class Participation (CP)</h3>
            <div class="input-group">
                <label>CP Overall Weight (% of Term): </label>
                <input type="number" id="weight-cp" value="70" onchange="updateWeights()">
            </div>
            <hr>
            <h4>Sub-Components (e.g., Quizzes, Projects)</h4>
            <ul id="cp-list" class="component-list"></ul>
            <div class="add-component">
                <input type="text" id="new-cp-name" placeholder="Component Name">
                <input type="number" id="new-cp-max" placeholder="Max Score" style="width: 80px;">
                <button onclick="addComponent()" class="btn-primary">Add</button>
            </div>
        </div>

        <div class="card">
            <h3>Major Exams</h3>
            <p>Weight: <b id="exam-weight-display">30%</b></p>
            <p><small>Automatically set to (100% - CP Weight)</small></p>
        </div>
    </div>
</section>

        <section id="students" class="page" style="display:none;">
            <h2>Student Roster</h2>
            <div class="card add-form">
                <input type="text" id="s-id" placeholder="Student ID">
                <input type="text" id="s-first" placeholder="First Name">
                <input type="text" id="s-last" placeholder="Last Name">
                <button onclick="addStudent()" class="btn-primary">Register Student</button>
            </div>
            <table id="student-table" class="styled-table">
                <thead>
                    <tr>
                        <th>Student ID</th>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </section>

        <section id="grading" class="page" style="display:none;">
            <div class="header-flex">
                <h2>Electronic Grading Sheet</h2>
                <button id="lock-btn" class="btn-secondary" onclick="toggleLock()">Unlock Editing</button>
            </div>
            <div class="table-container">
                <table id="grading-table" class="styled-table">
                    <thead>
                        </thead>
                    <tbody></tbody>
                </table>
            </div>
        </section>

        <section id="reports" class="page" style="display:none;">
            <div class="header-flex">
                <h2>Final Grade Report</h2>
                <button onclick="exportToExcel()" class="btn-excel">Export to Excel (CSV)</button>
            </div>
            <table id="report-table" class="styled-table">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Student Name</th>
                        <th>Midterm Grade</th>
                        <th>Final Grade</th>
                        <th>Final Average</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </section>
    </div>

    <script src="script.js"></script>
</body>
</html>